"use strict";
describe('Peripheral Tests', function() {

  it('can create a peripheral', function() {
    var Peripheral = require('../').Peripheral;

    var myPeripheral = new Peripheral(1);
    expect(myPeripheral.pin).toBe(1);
    expect(myPeripheral.alive).toBe(true);
    expect(global.raspiPinUsage[1]).toBe(myPeripheral);
  });

  it('can create a new peripheral over the old one', function() {
    var Peripheral = require('../').Peripheral;

    var myPeripheral = new Peripheral(1);
    expect(myPeripheral.pin).toBe(1);
    expect(myPeripheral.alive).toBe(true);
    expect(global.raspiPinUsage[1]).toBe(myPeripheral);

    var myOtherPeripheral = new Peripheral(1);
    expect(myPeripheral.pin).toBe(1);
    expect(myPeripheral.alive).toBe(false);
    expect(myOtherPeripheral.pin).toBe(1);
    expect(myOtherPeripheral.alive).toBe(true);
    expect(global.raspiPinUsage[1]).toBe(myOtherPeripheral);
  });

});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3RzLnNwZWMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBd0JBO0FBQUEsT0FBTyxBQUFDLENBQUMsa0JBQWlCLENBQUcsVUFBUSxBQUFDLENBQUU7QUFDdEMsR0FBQyxBQUFDLENBQUMseUJBQXdCLENBQUcsVUFBUSxBQUFDLENBQUU7QUFDdkMsQUFBSSxNQUFBLENBQUEsZUFBYyxFQUFJLENBQUEsT0FBTSxBQUFDLENBQUMsS0FBSSxDQUFDLENBQUM7QUFDcEMsV0FBUyxhQUFXLENBQUUsR0FBRSxDQUFHO0FBQ3pCLGlCQUFXLFVBQVUsS0FBSyxBQUFDLENBQUMsSUFBRyxDQUFHLElBQUUsQ0FBQyxDQUFDO0lBQ3hDO0FBQUEsQUFDQSxlQUFXLFVBQVUsRUFBSSxnQkFBYyxDQUFDO0FBRXhDLEFBQUksTUFBQSxDQUFBLFlBQVcsRUFBSSxJQUFJLGFBQVcsQUFBQyxDQUFDLENBQUEsQ0FBQyxDQUFDO0FBQ3RDLFNBQUssQUFBQyxDQUFDLFlBQVcsSUFBSSxDQUFDLEtBQUssQUFBQyxDQUFDLENBQUEsQ0FBQyxDQUFDO0FBQ2hDLFNBQUssQUFBQyxDQUFDLFlBQVcsTUFBTSxDQUFDLEtBQUssQUFBQyxDQUFDLElBQUcsQ0FBQyxDQUFDO0FBQ3JDLFNBQUssQUFBQyxDQUFDLE1BQUssY0FBYyxDQUFFLENBQUEsQ0FBQyxDQUFDLEtBQUssQUFBQyxDQUFDLFlBQVcsQ0FBQyxDQUFDO0VBQ3BELENBQUMsQ0FBQztBQUVGLEdBQUMsQUFBRSxDQUFDLDhDQUE2QyxDQUFHLFVBQVEsQUFBQyxDQUFFO0FBQzdELEFBQUksTUFBQSxDQUFBLGVBQWMsRUFBSSxDQUFBLE9BQU0sQUFBQyxDQUFDLEtBQUksQ0FBQyxDQUFDO0FBQ3BDLFdBQVMsYUFBVyxDQUFFLEdBQUUsQ0FBRztBQUN6QixpQkFBVyxVQUFVLEtBQUssQUFBQyxDQUFDLElBQUcsQ0FBRyxJQUFFLENBQUMsQ0FBQztJQUN4QztBQUFBLEFBQ0EsZUFBVyxVQUFVLEVBQUksZ0JBQWMsQ0FBQztBQUV4QyxBQUFJLE1BQUEsQ0FBQSxZQUFXLEVBQUksSUFBSSxhQUFXLEFBQUMsQ0FBQyxDQUFBLENBQUMsQ0FBQztBQUN0QyxTQUFLLEFBQUMsQ0FBQyxZQUFXLElBQUksQ0FBQyxLQUFLLEFBQUMsQ0FBQyxDQUFBLENBQUMsQ0FBQztBQUNoQyxTQUFLLEFBQUMsQ0FBQyxZQUFXLE1BQU0sQ0FBQyxLQUFLLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBQztBQUNyQyxTQUFLLEFBQUMsQ0FBQyxNQUFLLGNBQWMsQ0FBRSxDQUFBLENBQUMsQ0FBQyxLQUFLLEFBQUMsQ0FBQyxZQUFXLENBQUMsQ0FBQztBQUVsRCxBQUFJLE1BQUEsQ0FBQSxpQkFBZ0IsRUFBSSxJQUFJLGFBQVcsQUFBQyxDQUFDLENBQUEsQ0FBQyxDQUFDO0FBQzNDLFNBQUssQUFBQyxDQUFDLFlBQVcsSUFBSSxDQUFDLEtBQUssQUFBQyxDQUFDLENBQUEsQ0FBQyxDQUFDO0FBQ2hDLFNBQUssQUFBQyxDQUFDLFlBQVcsTUFBTSxDQUFDLEtBQUssQUFBQyxDQUFDLEtBQUksQ0FBQyxDQUFDO0FBQ3RDLFNBQUssQUFBQyxDQUFDLGlCQUFnQixJQUFJLENBQUMsS0FBSyxBQUFDLENBQUMsQ0FBQSxDQUFDLENBQUM7QUFDckMsU0FBSyxBQUFDLENBQUMsaUJBQWdCLE1BQU0sQ0FBQyxLQUFLLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBQztBQUMxQyxTQUFLLEFBQUMsQ0FBQyxNQUFLLGNBQWMsQ0FBRSxDQUFBLENBQUMsQ0FBQyxLQUFLLEFBQUMsQ0FBQyxpQkFBZ0IsQ0FBQyxDQUFDO0VBQ3pELENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQztBQUFBIiwiZmlsZSI6InRlc3RzLnNwZWMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuVGhlIE1JVCBMaWNlbnNlIChNSVQpXG5cbkNvcHlyaWdodCAoYykgMjAxNCBCcnlhbiBIdWdoZXMgPGJyeWFuQHRoZW9yZXRpY2FsaWRlYXRpb25zLmNvbT4gKGh0dHA6Ly90aGVvcmV0aWNhbGlkZWF0aW9ucy5jb20pXG5cblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cblRIRSBTT0ZUV0FSRS5cbiovXG5cbmRlc2NyaWJlKCdQZXJpcGhlcmFsIFRlc3RzJywgZnVuY3Rpb24oKSB7XG4gIGl0KCdjYW4gY3JlYXRlIGEgcGVyaXBoZXJhbCcsIGZ1bmN0aW9uKCkge1xuICAgIHZhciBSYXNwaVBlcmlwaGVyYWwgPSByZXF1aXJlKCcuLi8nKTtcbiAgICBmdW5jdGlvbiBNeVBlcmlwaGVyYWwocGluKSB7XG4gICAgICBNeVBlcmlwaGVyYWwucHJvdG90eXBlLmNhbGwodGhpcywgcGluKTtcbiAgICB9XG4gICAgTXlQZXJpcGhlcmFsLnByb3RvdHlwZSA9IFJhc3BpUGVyaXBoZXJhbDtcblxuICAgIHZhciBteVBlcmlwaGVyYWwgPSBuZXcgTXlQZXJpcGhlcmFsKDEpO1xuICAgIGV4cGVjdChteVBlcmlwaGVyYWwucGluKS50b0JlKDEpO1xuICAgIGV4cGVjdChteVBlcmlwaGVyYWwuYWxpdmUpLnRvQmUodHJ1ZSk7XG4gICAgZXhwZWN0KGdsb2JhbC5yYXNwaVBpblVzYWdlWzFdKS50b0JlKG15UGVyaXBoZXJhbCk7XG4gIH0pO1xuXG4gIGl0ICgnY2FuIGNyZWF0ZSBhIG5ldyBwZXJpcGhlcmFsIG92ZXIgdGhlIG9sZCBvbmUnLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgUmFzcGlQZXJpcGhlcmFsID0gcmVxdWlyZSgnLi4vJyk7XG4gICAgZnVuY3Rpb24gTXlQZXJpcGhlcmFsKHBpbikge1xuICAgICAgTXlQZXJpcGhlcmFsLnByb3RvdHlwZS5jYWxsKHRoaXMsIHBpbik7XG4gICAgfVxuICAgIE15UGVyaXBoZXJhbC5wcm90b3R5cGUgPSBSYXNwaVBlcmlwaGVyYWw7XG5cbiAgICB2YXIgbXlQZXJpcGhlcmFsID0gbmV3IE15UGVyaXBoZXJhbCgxKTtcbiAgICBleHBlY3QobXlQZXJpcGhlcmFsLnBpbikudG9CZSgxKTtcbiAgICBleHBlY3QobXlQZXJpcGhlcmFsLmFsaXZlKS50b0JlKHRydWUpO1xuICAgIGV4cGVjdChnbG9iYWwucmFzcGlQaW5Vc2FnZVsxXSkudG9CZShteVBlcmlwaGVyYWwpO1xuXG4gICAgdmFyIG15T3RoZXJQZXJpcGhlcmFsID0gbmV3IE15UGVyaXBoZXJhbCgxKTtcbiAgICBleHBlY3QobXlQZXJpcGhlcmFsLnBpbikudG9CZSgxKTtcbiAgICBleHBlY3QobXlQZXJpcGhlcmFsLmFsaXZlKS50b0JlKGZhbHNlKTtcbiAgICBleHBlY3QobXlPdGhlclBlcmlwaGVyYWwucGluKS50b0JlKDEpO1xuICAgIGV4cGVjdChteU90aGVyUGVyaXBoZXJhbC5hbGl2ZSkudG9CZSh0cnVlKTtcbiAgICBleHBlY3QoZ2xvYmFsLnJhc3BpUGluVXNhZ2VbMV0pLnRvQmUobXlPdGhlclBlcmlwaGVyYWwpO1xuICB9KTtcbn0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==