"use strict";
Object.defineProperties(exports, {
  Peripheral: {get: function() {
      return Peripheral;
    }},
  __esModule: {value: true}
});
var $__events__,
    $__raspi_45_board__;
var events = ($__events__ = require("events"), $__events__ && $__events__.__esModule && $__events__ || {default: $__events__}).default;
var getPinNumber = ($__raspi_45_board__ = require("raspi-board"), $__raspi_45_board__ && $__raspi_45_board__.__esModule && $__raspi_45_board__ || {default: $__raspi_45_board__}).getPinNumber;
require('../lib/traceur-runtime');
var registeredPins = global.raspiPinUsage = global.raspiPinUsage || {};
var Peripheral = function Peripheral(pins) {
  var $__2 = this;
  this.alive = true;
  if (!Array.isArray(pins)) {
    pins = [pins];
  }
  this.pins = [];
  pins.map((function(pin) {
    var pin = getPinNumber(pin);
    $__2.pins.push(pin);
    if (registeredPins[pin]) {
      registeredPins[pin].destroy();
    }
    registeredPins[pin] = $__2;
  }));
};
($traceurRuntime.createClass)(Peripheral, {destroy: function() {
    this.alive = false;
    delete registeredPins[this.pin];
    this.emit('destroyed');
  }}, {}, events.EventEmitter);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIiwiQHRyYWNldXIvZ2VuZXJhdGVkL1RlbXBsYXRlUGFyc2VyLzYiLCJAdHJhY2V1ci9nZW5lcmF0ZWQvVGVtcGxhdGVQYXJzZXIvNCIsIkB0cmFjZXVyL2dlbmVyYXRlZC9UZW1wbGF0ZVBhcnNlci8xIiwiQHRyYWNldXIvZ2VuZXJhdGVkL1RlbXBsYXRlUGFyc2VyLzIiLCJAdHJhY2V1ci9nZW5lcmF0ZWQvVGVtcGxhdGVQYXJzZXIvNSIsIkB0cmFjZXVyL2dlbmVyYXRlZC9UZW1wbGF0ZVBhcnNlci8wIiwiQHRyYWNldXIvZ2VuZXJhdGVkL1RlbXBsYXRlUGFyc2VyLzciLCJAdHJhY2V1ci9nZW5lcmF0ZWQvVGVtcGxhdGVQYXJzZXIvOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF3QkE7QUN4QkEsS0FBSyxpQkFBaUIsQUFBQyxDQUFDLE9BQU07WUNBOUIsRUFBQyxHQUFFLFlDQXFCO0FBQUUsdUJBQXdCO0lBQUUsQURBOUIsQ0FBQztBRUF2QixXQUFTLENDQVQsRUFBQyxLQUFJLENEQU8sS0FBRyxBQ0FTLENBQUM7Q0pBeUIsQ0FBQzs7O0VEd0I1QyxPQUFLLEVNeEJaLEVBQUMsYUFBb0IsQ0FBQSxPQUFNLEFBQUMsVUFBa0IsQ0FDdEMsQ0FBQSxjQUFxQix1QkFBMkIsQ0FBQSxjQUFxQixHQUFLLEVBQUMsT0FBTSxhQUFtQixDQUQ5RCxBQUMrRCxDQUFDO0VOd0JyRyxhQUFXLEVNekJwQixFQUFDLHFCQUFvQixDQUFBLE9BQU0sQUFBQyxlQUFrQixDQUN0QyxDQUFBLHNCQUFxQiwrQkFBMkIsQ0FBQSxzQkFBcUIsR0FBSyxFQUFDLE9BQU0scUJBQW1CLENBRDlELEFBQytELENBQUM7QU55QjlHLE1BQU0sQUFBQyxDQUFDLHdCQUF1QixDQUFDLENBQUM7QUFFakMsQUFBSSxFQUFBLENBQUEsY0FBYSxFQUFJLENBQUEsTUFBSyxjQUFjLEVBQUksQ0FBQSxNQUFLLGNBQWMsR0FBSyxHQUFDLENBQUM7QU81QnRFLEFBQUksRUFBQSxhUDhCRyxTQUFNLFdBQVMsQ0FDUixJQUFHOztBQUNiLEtBQUcsTUFBTSxFQUFJLEtBQUcsQ0FBQztBQUNqQixLQUFJLENBQUMsS0FBSSxRQUFRLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBRztBQUN4QixPQUFHLEVBQUksRUFBRSxJQUFHLENBQUUsQ0FBQztFQUNqQjtBQUFBLEFBQ0EsS0FBRyxLQUFLLEVBQUksR0FBQyxDQUFDO0FBQ2QsS0FBRyxJQUFJLEFBQUMsRUFBQyxTQUFDLEdBQUUsQ0FBTTtBQUNoQixBQUFJLE1BQUEsQ0FBQSxHQUFFLEVBQUksQ0FBQSxZQUFXLEFBQUMsQ0FBQyxHQUFFLENBQUMsQ0FBQztBQUMzQixZQUFRLEtBQUssQUFBQyxDQUFDLEdBQUUsQ0FBQyxDQUFDO0FBQ25CLE9BQUksY0FBYSxDQUFFLEdBQUUsQ0FBQyxDQUFHO0FBQ3ZCLG1CQUFhLENBQUUsR0FBRSxDQUFDLFFBQVEsQUFBQyxFQUFDLENBQUM7SUFDL0I7QUFBQSxBQUNBLGlCQUFhLENBQUUsR0FBRSxDQUFDLE9BQU8sQ0FBQztFQUM1QixFQUFDLENBQUM7QU81Q2tDLEFQbUR4QyxDT25Ed0M7QUNBeEMsQUFBQyxlQUFjLFlBQVksQ0FBQyxBQUFDLGNSOEMzQixPQUFNLENBQU4sVUFBTyxBQUFDLENBQUU7QUFDUixPQUFHLE1BQU0sRUFBSSxNQUFJLENBQUM7QUFDbEIsU0FBTyxlQUFhLENBQUUsSUFBRyxJQUFJLENBQUMsQ0FBQztBQUMvQixPQUFHLEtBQUssQUFBQyxDQUFDLFdBQVUsQ0FBQyxDQUFDO0VBQ3hCLE1BcEI4QixDQUFBLE1BQUssYUFBYSxDUTdCTTtBUm1EeEQiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuVGhlIE1JVCBMaWNlbnNlIChNSVQpXG5cbkNvcHlyaWdodCAoYykgMjAxNCBCcnlhbiBIdWdoZXMgPGJyeWFuQHRoZW9yZXRpY2FsaWRlYXRpb25zLmNvbT4gKGh0dHA6Ly90aGVvcmV0aWNhbGlkZWF0aW9ucy5jb20pXG5cblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cblRIRSBTT0ZUV0FSRS5cbiovXG5cbmltcG9ydCBldmVudHMgZnJvbSAnZXZlbnRzJztcbmltcG9ydCB7IGdldFBpbk51bWJlciB9IGZyb20gJ3Jhc3BpLWJvYXJkJztcbnJlcXVpcmUoJy4uL2xpYi90cmFjZXVyLXJ1bnRpbWUnKTtcblxudmFyIHJlZ2lzdGVyZWRQaW5zID0gZ2xvYmFsLnJhc3BpUGluVXNhZ2UgPSBnbG9iYWwucmFzcGlQaW5Vc2FnZSB8fCB7fTtcblxuZXhwb3J0IGNsYXNzIFBlcmlwaGVyYWwgZXh0ZW5kcyBldmVudHMuRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3IocGlucykge1xuICAgIHRoaXMuYWxpdmUgPSB0cnVlO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShwaW5zKSkge1xuICAgICAgcGlucyA9IFsgcGlucyBdO1xuICAgIH1cbiAgICB0aGlzLnBpbnMgPSBbXTtcbiAgICBwaW5zLm1hcCgocGluKSA9PiB7XG4gICAgICB2YXIgcGluID0gZ2V0UGluTnVtYmVyKHBpbik7XG4gICAgICB0aGlzLnBpbnMucHVzaChwaW4pO1xuICAgICAgaWYgKHJlZ2lzdGVyZWRQaW5zW3Bpbl0pIHtcbiAgICAgICAgcmVnaXN0ZXJlZFBpbnNbcGluXS5kZXN0cm95KCk7XG4gICAgICB9XG4gICAgICByZWdpc3RlcmVkUGluc1twaW5dID0gdGhpcztcbiAgICB9KTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuYWxpdmUgPSBmYWxzZTtcbiAgICBkZWxldGUgcmVnaXN0ZXJlZFBpbnNbdGhpcy5waW5dO1xuICAgIHRoaXMuZW1pdCgnZGVzdHJveWVkJyk7XG4gIH1cbn1cbiIsIk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGV4cG9ydHMsICRfX3BsYWNlaG9sZGVyX18wKTsiLCJ7Z2V0OiAkX19wbGFjZWhvbGRlcl9fMH0iLCJnZXQgJF9fcGxhY2Vob2xkZXJfXzAoKSB7IHJldHVybiAkX19wbGFjZWhvbGRlcl9fMTsgfSIsIl9fZXNNb2R1bGU6IHRydWUiLCJ7dmFsdWU6ICRfX3BsYWNlaG9sZGVyX18wfSIsIigkX19wbGFjZWhvbGRlcl9fMCA9IHJlcXVpcmUoJF9fcGxhY2Vob2xkZXJfXzEpLCBcbiAgICAgICAgJF9fcGxhY2Vob2xkZXJfXzIgJiYgJF9fcGxhY2Vob2xkZXJfXzMuX19lc01vZHVsZSAmJiAkX19wbGFjZWhvbGRlcl9fNCB8fCB7ZGVmYXVsdDogJF9fcGxhY2Vob2xkZXJfXzV9KSIsInZhciAkX19wbGFjZWhvbGRlcl9fMCA9ICRfX3BsYWNlaG9sZGVyX18xIiwiKCR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcykoJF9fcGxhY2Vob2xkZXJfXzAsICRfX3BsYWNlaG9sZGVyX18xLCAkX19wbGFjZWhvbGRlcl9fMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRfX3BsYWNlaG9sZGVyX18zKSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==